import Qatar from "../public/NFTs/0.png";
import Qatar2 from "../public/NFTs/1.png";
import Qatar3 from "../public/NFTs/2.png";
import Qatar4 from "../public/NFTs/3.png";
import Ecuador from "../public/NFTs/4.png";
import Ecuador2 from "../public/NFTs/5.png";
import Ecuador3 from "../public/NFTs/6.png";
import Ecuador4 from "../public/NFTs/7.png";
import Senegal from "../public/NFTs/8.png";
import Senegal2 from "../public/NFTs/9.png";
import Senegal3 from "../public/NFTs/10.png";
import Senegal4 from "../public/NFTs/11.png";
import Netherlands from "../public/NFTs/12.png";
import Netherlands2 from "../public/NFTs/13.png";
import Netherlands3 from "../public/NFTs/14.png";
import Netherlands4 from "../public/NFTs/15.png";
import England from "../public/NFTs/16.png";
import England2 from "../public/NFTs/17.png";
import England3 from "../public/NFTs/18.png";
import England4 from "../public/NFTs/19.png";
import Iran from "../public/NFTs/20.png";
import Iran2 from "../public/NFTs/21.png";
import Iran3 from "../public/NFTs/22.png";
import Iran4 from "../public/NFTs/23.png";
import USA from "../public/NFTs/24.png";
import USA2 from "../public/NFTs/25.png";
import USA3 from "../public/NFTs/26.png";
import USA4 from "../public/NFTs/27.png";
import Wales from "../public/NFTs/28.png";
import Wales2 from "../public/NFTs/29.png";
import Wales3 from "../public/NFTs/30.png";
import Wales4 from "../public/NFTs/31.png";
import Argentina from "../public/NFTs/32.png";
import Argentina2 from "../public/NFTs/33.png";
import Argentina3 from "../public/NFTs/34.png";
import Argentina4 from "../public/NFTs/35.png";
import SaudiArabia from "../public/NFTs/36.png";
import SaudiArabia2 from "../public/NFTs/37.png";
import SaudiArabia3 from "../public/NFTs/38.png";
import SaudiArabia4 from "../public/NFTs/39.png";
import Mexico from "../public/NFTs/40.png";
import Mexico2 from "../public/NFTs/41.png";
import Mexico3 from "../public/NFTs/42.png";
import Mexico4 from "../public/NFTs/43.png";
import Poland from "../public/NFTs/44.png";
import Poland2 from "../public/NFTs/45.png";
import Poland3 from "../public/NFTs/46.png";
import Poland4 from "../public/NFTs/47.png";
import France from "../public/NFTs/48.png";
import France2 from "../public/NFTs/49.png";
import France3 from "../public/NFTs/50.png";
import France4 from "../public/NFTs/51.png";
import Australia from "../public/NFTs/52.png";
import Australia2 from "../public/NFTs/53.png";
import Australia3 from "../public/NFTs/54.png";
import Australia4 from "../public/NFTs/55.png";
import Denmark from "../public/NFTs/56.png";
import Denmark2 from "../public/NFTs/57.png";
import Denmark3 from "../public/NFTs/58.png";
import Denmark4 from "../public/NFTs/59.png";
import Tunisia from "../public/NFTs/60.png";
import Tunisia2 from "../public/NFTs/61.png";
import Tunisia3 from "../public/NFTs/62.png";
import Tunisia4 from "../public/NFTs/63.png";
import Spain from "../public/NFTs/64.png";
import Spain2 from "../public/NFTs/65.png";
import Spain3 from "../public/NFTs/66.png";
import Spain4 from "../public/NFTs/67.png";
import CostaRica from "../public/NFTs/68.png";
import CostaRica2 from "../public/NFTs/69.png";
import CostaRica3 from "../public/NFTs/70.png";
import CostaRica4 from "../public/NFTs/71.png";
import Germany from "../public/NFTs/72.png";
import Germany2 from "../public/NFTs/73.png";
import Germany3 from "../public/NFTs/74.png";
import Germany4 from "../public/NFTs/75.png";
import Japan from "../public/NFTs/76.png";
import Japan2 from "../public/NFTs/77.png";
import Japan3 from "../public/NFTs/78.png";
import Japan4 from "../public/NFTs/79.png";
import Belgium from "../public/NFTs/80.png";
import Belgium2 from "../public/NFTs/81.png";
import Belgium3 from "../public/NFTs/82.png";
import Belgium4 from "../public/NFTs/83.png";
import Canada from "../public/NFTs/84.png";
import Canada2 from "../public/NFTs/85.png";
import Canada3 from "../public/NFTs/86.png";
import Canada4 from "../public/NFTs/87.png";
import Morocco from "../public/NFTs/88.png";
import Morocco2 from "../public/NFTs/89.png";
import Morocco3 from "../public/NFTs/90.png";
import Morocco4 from "../public/NFTs/91.png";
import Croatia from "../public/NFTs/92.png";
import Croatia2 from "../public/NFTs/93.png";
import Croatia3 from "../public/NFTs/94.png";
import Croatia4 from "../public/NFTs/95.png";
import Brazil from "../public/NFTs/96.png";
import Brazil2 from "../public/NFTs/97.png";
import Brazil3 from "../public/NFTs/98.png";
import Brazil4 from "../public/NFTs/99.png";
import Serbia from "../public/NFTs/100.png";
import Serbia2 from "../public/NFTs/101.png";
import Serbia3 from "../public/NFTs/102.png";
import Serbia4 from "../public/NFTs/103.png";
import Switzerland from "../public/NFTs/104.png";
import Switzerland2 from "../public/NFTs/105.png";
import Switzerland3 from "../public/NFTs/106.png";
import Switzerland4 from "../public/NFTs/107.png";
import Cameroon from "../public/NFTs/108.png";
import Cameroon2 from "../public/NFTs/109.png";
import Cameroon3 from "../public/NFTs/110.png";
import Cameroon4 from "../public/NFTs/111.png";
import Portugal from "../public/NFTs/112.png";
import Portugal2 from "../public/NFTs/113.png";
import Portugal3 from "../public/NFTs/114.png";
import Portugal4 from "../public/NFTs/115.png";
import Ghana from "../public/NFTs/116.png";
import Ghana2 from "../public/NFTs/117.png";
import Ghana3 from "../public/NFTs/118.png";
import Ghana4 from "../public/NFTs/119.png";
import Uruguay from "../public/NFTs/120.png";
import Uruguay2 from "../public/NFTs/121.png";
import Uruguay3 from "../public/NFTs/122.png";
import Uruguay4 from "../public/NFTs/123.png";
import Korea from "../public/NFTs/124.png";
import Korea2 from "../public/NFTs/125.png";
import Korea3 from "../public/NFTs/126.png";
import Korea4 from "../public/NFTs/127.png";
import { BytesLike, Contract, ethers } from "ethers";
import { PREDICTION_ADDRESS, PREDICTION_ABI } from "../contractInfo/Prediction";
import { StaticImageData } from "next/image";
`query MyQuery {
  tokens(
    where: {user: "0xbB7b095D779621cC4db92CdebD08f0a87FBA1D40"}
    orderBy: position
  ) {
    teamId
    level
    predictors {
      id
    }
  }
}`;

const haveYouMinted = async (predictor: string, provider: any) => {
  try {
    const PredictionContract = new Contract(
      PREDICTION_ADDRESS,
      PREDICTION_ABI,
      provider
    );
    const hasUserMinted: boolean = await PredictionContract.haveYouMinted(
      predictor
    );
    return hasUserMinted;
  } catch (error: any) {
    console.log(error);
  }
};

const haveYouMintedExtraTwo = async (predictor: string, provider: any) => {
  try {
    const PredictionContract = new Contract(
      PREDICTION_ADDRESS,
      PREDICTION_ABI,
      provider
    );
    const hasUserMintedExtraTwo = await PredictionContract.mintedExtraTwo(
      predictor
    );
    return hasUserMintedExtraTwo;
  } catch (error: any) {
    console.log(error);
  }
};

const getPrediction = async (
  predictor: string,
  provider: any,
  address: string
): Promise<string[]> => {
  const PredictionContract = new Contract(
    PREDICTION_ADDRESS,
    PREDICTION_ABI,
    provider
  );
  const predictionArray: any = [];
  const userMinted = await haveYouMinted(predictor, provider);
  const mintedExtraTwo = await haveYouMintedExtraTwo(predictor, provider);

  let user, position, level, teamName: any;
  for (let i = 1; i < 7; i++) {
    if (
      ethers.utils.defaultAbiCoder.decode(["string"], teamName)[0] === "Qatar"
    ) {
      if (level === 4) predictionArray.push(Qatar4);
      if (level === 3) predictionArray.push(Qatar3);
      if (level === 2) predictionArray.push(Qatar2);
      if (level === 0 || level === 1) predictionArray.push(Qatar);
    }
    if (
      ethers.utils.defaultAbiCoder.decode(["string"], teamName)[0] === "Ecuador"
    ) {
      if (level === 4) predictionArray.push(Ecuador4);
      if (level === 3) predictionArray.push(Ecuador3);
      if (level === 2) predictionArray.push(Ecuador2);
      if (level === 0 || level === 1) predictionArray.push(Ecuador);
    }

    if (
      ethers.utils.defaultAbiCoder.decode(["string"], teamName)[0] === "Senegal"
    ) {
      if (level === 4) predictionArray.push(Senegal4);
      if (level === 3) predictionArray.push(Senegal3);
      if (level === 2) predictionArray.push(Senegal2);
      if (level === 0 || level === 1) predictionArray.push(Senegal);
    }

    if (
      ethers.utils.defaultAbiCoder.decode(["string"], teamName)[0] ===
      "Netherlands"
    ) {
      if (level === 4) predictionArray.push(Netherlands4);
      if (level === 3) predictionArray.push(Netherlands3);
      if (level === 2) predictionArray.push(Netherlands2);
      if (level === 0 || level === 1) predictionArray.push(Netherlands);
    }
  }
  return predictionArray;
};
